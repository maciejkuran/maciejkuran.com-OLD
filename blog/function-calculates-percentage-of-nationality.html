<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The function that calculates a percentage of nationality – call(), apply(), bind() methods</title>
    <meta
      name="description"
      content="In this exercise, I am creating 2 objects. One of them contains a method named foreignerPercentage, which takes 2 parameters – foreignerNationality, number."
    />
    <link rel="stylesheet" href="https://use.typekit.net/pig0nkd.css" />
    <link rel="stylesheet" href="/public/css/style.css" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SZF313ENVP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-SZF313ENVP');
    </script>
  </head>
  <body>
    <my-header></my-header>
    <a href="/blog">
      <div class="backBlogPage container">
        <i class="fa-solid fa-arrow-left-long"></i>
        <p>back to blog page</p>
      </div>
    </a>
    <main class="container">
      <div class="titleAndBlogPostInfo">
        <h1>The function that calculates a percentage of nationality – call(), apply(), bind() methods</h1>
        <p class="date">22-05-2022 <span>JavaScript</span> <span>Exercise</span></p>
      </div>
      <article>
        <section class="sectionDivider">
          <p>
            In this exercise, I am creating 2 objects. One of them contains the method named
            <i>'foreignerPercentage'</i>, which takes 2 parameters – <i>'foreignerNationality', 'number'</i>. This
            function calculates a percentage of nationality.
          </p>
          <pre>
const poland = {
            country: 'Poland',
            population: 40000000,
            foreignerPercentage: function (foreignerNationality, number) {
              const percCalc = (number * 100) / this.population;
              console.log(
                `In ${this.country} live ${this.population} people. Among this population live ${number} of ${foreignerNationality} people. It is ${percCalc}%. `
              );
            },
          };
          </pre>
          <pre>
const germany = {
            country: 'Germany',
            population: 80000000,
          };
          </pre>
          <p>This exercise shows a use-case of the 3 methods: <b>call()</b>, <b>apply()</b>, and <b>bind()</b>.</p>
          <p>I am assigning the object method to a variable.</p>
          <pre>const calcPercentage = poland.foreignerPercentage;</pre>
          <p>
            I am calling the function using the <b>call() method</b>. The first argument is the name of the object which
            we point the <i>'this'</i> keyword to. The 2nd argument is the <i>'foreignerNationality'</i> and the last
            one <i>'number'</i>.
          </p>
          <pre>
calcPercentage.call(germany, 'Turkish', 800000);
            //OUTPUT:
            // In Germany live 80000000 people. Among this population live 800000 Turkish people. It is 1%.
            </pre
          >
          <p>
            <b>The apply() method</b> requires values to be stored in an array. Then we pass the array as an argument.
          </p>
          <pre>
const portugal = ['Portuguese', 80000];
                calcPercentage.apply(germany, portugal);
                //OUTPUT:
                // In Germany live 80000000 people. Among this population live 80000 Portuguese people. It is 0.1%.
                </pre
          >
          <p>
            If for some reason we had values stored in an array and we want to use the call() method, we can call the
            function using the spread operator. The spread operator does a sort of “unpacking”.
          </p>
          <pre>
const portugal = ['Portuguese', 80000];
                calcPercentage.call(germany, …portugal);
                //OUTPUT:
                // In Germany live 80000000 people. Among this population live 80000 Portuguese people. It is 0.1%.
                </pre
          >
          <p>
            <b>The bind() method</b> does not call the function immediately. Instead it returns another function where
            the <i>'this'</i> keyword is bound. You may also do a partial application of the arguments, which means to
            pre-set a specific argument. This time I pre-set <i>'foreignerNationality'</i> argument. Then I call the
            function with one argument left – <i>'number'</i>.
          </p>
          <pre>
const spain = calcPercentage.bind(germany, 'Spanish');
                    spain(160000);
                    //OUTPUT:
                    // In Germany live 80000000 people. Among this population live 160000 Spanish people. It is 0.2%.
                    </pre
          >
        </section>
      </article>
    </main>
    <my-footer></my-footer>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/js/all.min.js"
      integrity="sha512-6PM0qYu5KExuNcKt5bURAoT6KCThUmHRewN3zUFNaoI6Di7XJPTMoT6K0nsagZKk2OB4L7E3q1uQKHNHd4stIQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script type="module" src="/js/components.js"></script>
    <script type="module" src="/js/main.js"></script>
  </body>
</html>
