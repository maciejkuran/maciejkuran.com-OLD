<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Computing overal family income - JavaScript</title>
    <meta
      name="description"
      content="In this exercise, I am writing the function that computes an overall family income using the available array – flat, flatMap, and reduce. - javascript"
    />
    <link rel="icon" type="image/x-icon" href="/img/icons/Maciej Kuran-Janowski avatar.png" />
    <!-- ---GOOGLE FONTS--- -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@500;600;700&family=Roboto+Mono:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SZF313ENVP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-SZF313ENVP');
    </script>
    <!-- _________________________________ -->
    <!-- ---Font Awesome--- -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/js/all.min.js"
      integrity="sha512-naukR7I+Nk6gp7p5TMA4ycgfxaZBJ7MO5iC3Fp6ySQyKFHOGfpkSZkYVWV5R7u7cfAicxanwYQ5D1e17EfJcMA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- _____________ -->
    <!-- My scripts with defer attribute load async -->
    <script defer type="module" src="/js/components.js"></script>
    <script defer type="module" src="/js/main.js"></script>
    <script defer type="module" src="/js/blog.js"></script>
    <script defer type="module" src="/js/prism.js"></script>

    <!-- -- CSS-- -->
    <link rel="stylesheet" href="/css/prism.css" />
    <link rel="stylesheet" href="/css/main.css" />
  </head>
  <body class="line-numbers">
    <web-navbar></web-navbar>

    <main class="blog-post-main">
      <header class="blog-post-header">
        <div class="item">
          <img src="/img/icons/javascript.png" alt="function computes overall family income javascript" />
          <div class="item-content">
            <h1>Computing overal family income</h1>
            <p class="post-date">09-06-2022</p>

            <div class="tag-cloud tag-cloud-my-projects">
              <p class="tag-primary">JavaScript</p>
              <p class="tag-primary">Exercise</p>
            </div>
            <a href="/blog/"><i class="fa-solid fa-arrow-left-long"></i>back</a>
          </div>
        </div>
      </header>
      <section class="post-section">
        <h2>Flat, flatMap and reduce methods</h2>
        <p>
          In this exercise, I am writing the function that computes an overall family income using the available array
          javascript methods – <code class="highlight">flat()</code>, <code class="highlight">flatMap()</code>, and
          <code class="highlight">reduce()</code>.
        </p>
        <p>
          I created 3 objects – <code class="highlight">John</code>, <code class="highlight">Barbara</code> and
          <code class="highlight">Katie</code>. They are a family. I am interested in retrieving data from the property
          called <code class="highlight">income</code>.
        </p>

        <pre>
            <code class="language-js">
                const John = {
                    age: 42,
                    job: true,
                    income: [1200, 800, 2000, 5000, 980, 14000, 5000],
                    };
                    
                    const Barbara = {
                    age: 39,
                    job: true,
                    income: [250, 3000, 2000, 5400, 350, 7000, 2000],
                    };
                    
                    const Katie = {
                    age: 18,
                    job: false,
                    income: [],
                    };  
            </code>    
        </pre>
        <p>
          As this exercise introduces array methods, I assigned all objects to the array called
          <code class="highlight">familyMembers</code>.
        </p>

        <pre>
            <code class="language-js">
                const familyMembers = [John, Barbara, Katie];
            </code>  
        </pre>
      </section>

      <section class="post-section">
        <h3>Chaining methods</h3>
        <p>
          Chaining methods can be a good solution, especially if you want to keep your code dry. However, over using
          chaining concept can cause performance and readability issues. Also, if anything goes wrong and you have to
          debug your code, make sure you console.log each chaining stage. Let's check how I did chaining of these 3
          methods.
        </p>
        <pre>
                <code class="language-js">
                    const checkIncome = array =&gt; {
                        const totalIncome = array
                        .map(member =&gt; member.income)
                        .flat()
                        .reduce((previousIncome, income) =&gt; previousIncome + income, 0);
                        
                        return totalIncome;
                        };
                        
                        console.log(checkIncome(familyMembers)); //OUTPUT: 48980
                </code>  
            </pre>
      </section>

      <section class="post-section">
        <h3>Flatmap method instead map and flat</h3>
        <p>
          The <code class="highlight">flatMap()</code> method is a combination of these 2 methods –
          <code class="highlight">map()</code> and <code class="highlight">flat()</code>. However, be aware, that by
          default <code class="highlight">flatMap()</code> method takes the argument of 1, which means 1 level of
          nesting. If an array that we want to <code class="highlight">flatMap()</code> contains more than 1 level of
          nesting, you should use these methods separately, as in the example above.
        </p>
        <pre>
            <code class="language-js">
                const checkIncome = array =&gt; {
                    const totalIncome = array
                    .flatMap(member =&gt; member.income)
                    .reduce((previousIncome, income) =&gt; previousIncome + income, 0);
                    
                    return totalIncome;
                    };
                    
                    console.log(checkIncome(familyMembers)); //OUTPUT: 48980
            </code>  
        </pre>
      </section>
    </main>

    <web-footer></web-footer>

    <cookies-popup></cookies-popup>

    <div class="background-overlay hide"></div>
  </body>
</html>
