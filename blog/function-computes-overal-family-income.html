<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      The function that computes overal family's income – flat(), flatMap() and reduce() methods - Javascript
    </title>
    <meta
      name="description"
      content="In this exercise, I am writing the function that computes the overall family's income using available array javascript methods – flat(), flatMap(), and reduce()."
    />
    <link rel="stylesheet" href="https://use.typekit.net/pig0nkd.css" />
    <link rel="stylesheet" href="/public/css/style.css" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SZF313ENVP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-SZF313ENVP');
    </script>
  </head>
  <body>
    <my-header></my-header>
    <a href="/blog">
      <div class="backBlogPage container">
        <i class="fa-solid fa-arrow-left-long"></i>
        <p>back to blog page</p>
      </div>
    </a>
    <main class="container">
      <article>
        <header>
          <div class="titleAndBlogPostInfo">
            <h1>The function that computes overal family's income – flat(), flatMap() and reduce() methods</h1>
            <p class="date">09-06-2022 <span>Javascript</span> <span>Exercise</span></p>
          </div>
        </header>

        <section class="sectionDivider">
          <p>
            In this exercise, I am writing the function that computes an overall family's income using the available
            array javascript methods – flat(), flatMap(), and reduce().
          </p>
          <p>
            I created 3 objects – <i>'John'</i>, <i>'Barbara'</i> and <i>'Katie'</i>. They are a family. I am interested
            in retrieving data from the property called <i>'income'</i>.
          </p>
          <pre>
const John = {
            age: 42,
            job: true,
            income: [1200, 800, 2000, 5000, 980, 14000, 5000],
          };
          
          const Barbara = {
            age: 39,
            job: true,
            income: [250, 3000, 2000, 5400, 350, 7000, 2000],
          };
          
          const Katie = {
            age: 18,
            job: false,
            income: [],
          };
          </pre>
          <p>
            As this exercise describes array methods, I assigned all objects to the array called <i>'familyMembers'</i>.
          </p>
          <pre>const familyMembers = [John, Barbara, Katie];</pre>
        </section>
        <section class="sectionDivider">
          <h2>Chaining methods</h2>
          <p>
            Chaining methods can be a good solution, especially if you want to keep your code dry. However over using
            chaining concept can cause performance and readability issues, especially if you work with big data or if
            you just chain a lot of different methods. Also, if anything goes wrong and you have to debug your code,
            make sure you console.log each chaining stage.
          </p>
          <p>Let's check how I did chaining of these 3 methods.</p>
          <pre>
const checkIncome = array =&gt; {
                const totalIncome = array
                  .map(member =&gt; member.income)
                  .flat() 
                  .reduce((previousIncome, income) =&gt; previousIncome + income, 0);
              
                return totalIncome;
              };
              
              console.log(checkIncome(familyMembers)); //OUTPUT: 48980
              </pre
          >
        </section>
        <section class="sectionDivider">
          <h3>flatMap() method – instead of map() and flat()</h3>
          <p>
            The flatMap() method is a combination of these 2 methods – map() and flat(). However, be aware, that by
            default flatMap() method takes the argument of 1, which means 1 level of nesting. If an array that we want
            to flatMap() contains more than 1 level of nesting, you should use these methods separately, as in the
            example above.
          </p>
          <pre>
const checkIncome = array =&gt; {
                const totalIncome = array
                  .flatMap(member =&gt; member.income)
                  .reduce((previousIncome, income) =&gt; previousIncome + income, 0);
              
                return totalIncome;
              };
              
              console.log(checkIncome(familyMembers)); //OUTPUT: 48980
              </pre
          >
        </section>
      </article>
    </main>
    <my-footer></my-footer>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/js/all.min.js"
      integrity="sha512-6PM0qYu5KExuNcKt5bURAoT6KCThUmHRewN3zUFNaoI6Di7XJPTMoT6K0nsagZKk2OB4L7E3q1uQKHNHd4stIQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script type="module" src="/js/components.js"></script>
    <script type="module" src="/js/main.js"></script>
  </body>
</html>
